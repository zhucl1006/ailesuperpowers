# 阶段 2：分析与计划书（开发负责人）模板

> 目标：产出 `docs/plans/{Story-Key}/analysis.md` 作为 AI 执行入口，并支撑 G2（PM/QA）审查。

> Jira Story: {Story-Key}
> 创建日期: YYYY-MM-DD
> 开发负责人: {Name}

---

## 0. 执行状态管理（必填）

### 0.1 整体进度

- [ ] 需求理解与分析
- [ ] 任务拆解与方案设计
- [ ] 测试用例与验收标准
- [ ] Jira 关联与交接

### 0.2 任务状态总览

| 任务 | 负责人 | 状态 | 开始时间 | 完成时间 | 阻塞原因 |
|------|--------|------|----------|----------|----------|
| T1   | 待分配 | 待开始 | - | - | - |

**状态定义：** 待开始 / 进行中 / 阻塞 / 已完成 / 已取消

### 0.3 执行记录

| 日期 | 变更 | 结果 | 备注 |
|------|------|------|------|
| YYYY-MM-DD | 创建分析计划 | ✅ 完成 | 初始化状态管理 |

---

## 1. 需求理解与分析

- 需求解读摘要
- 隐含需求与风险
- 与现有功能的关联/影响

## 2. UI 设计（如适用）

- 设计文件：`design.pencil`（如有）
- 页面结构：
- 核心交互流程：
- 状态设计：正常/空/加载/异常
- 与 PM UI 示意对照说明：

> 若本 Story 无 UI 变更，标注“本 Story 无 UI 设计”。

## 3. 任务拆解

| 序号 | 任务名称 | 描述 | 依赖 | 预估复杂度 |
|------|----------|------|------|------------|
| T1   |          |      |      | 低/中/高    |

## 4. 接口与数据流设计

- API：路径 → 请求/响应 → 错误码
- 数据流：来源 → 处理 → 存储/展示
- 状态管理：新增/修改点

## 5. 测试用例

| 编号 | 场景 | 类型 | 步骤 | 预期结果 |
|------|------|------|------|----------|
| TC01 |      | 核心 |      |          |

## 6. 验收标准（细化后回写 Jira AC）

- [ ] 标准 1（关联 TC 编号）
- [ ] 标准 2

## 7. AI 执行指引

- 任务执行顺序（按依赖）
- TDD 约束：必须 RED-GREEN-REFACTOR
- 关键约束：目录结构/编码规范/禁止过度设计
- 需要人工介入的节点（G2/G3）

## 8. Jira 关联

- Story Key：{Story-Key}
- Sub-task 创建方式：启用 Jira MCP 时使用 `jira_create_issue` 自动创建；不可用时人工补录
- 子任务列表：

| 任务名 | Sub-task Key | 负责人 | 状态 | 备注 |
|--------|--------------|--------|------|------|
| T1     | ABC-234 / 未创建 | 待分配 | TODO / 待补录 | 未创建（原因：MCP 不可用，需人工补录） |

- G2 审查 PR：
